[gd_scene load_steps=9 format=3 uid="uid://uklm5ku67n8e"]

[ext_resource type="Script" uid="uid://c1pxk2q0j5o8t" path="res://Scripts/main.gd" id="1_itoj1"]
[ext_resource type="Script" uid="uid://ccn6l87y4bp8f" path="res://Scripts/game_time.gd" id="1_ow3qn"]
[ext_resource type="Script" uid="uid://b28o2n08nhmk2" path="res://Scripts/waves.gd" id="2_2pvco"]
[ext_resource type="Script" uid="uid://bptn37gb8ldn6" path="res://Scripts/EnemyWave.gd" id="2_yl0mw"]

[sub_resource type="Resource" id="Resource_sfi7m"]
script = ExtResource("2_yl0mw")
enemy_amount = 10
cooldown_time = 10.0

[sub_resource type="Resource" id="Resource_o1kou"]
script = ExtResource("2_yl0mw")
enemy_amount = 5
cooldown_time = 4.0

[sub_resource type="Resource" id="Resource_sr6kx"]
script = ExtResource("2_yl0mw")
enemy_amount = 20
cooldown_time = 0.0

[sub_resource type="AudioStreamWAV" id="AudioStreamWAV_gsk60"]

[node name="Main" type="Node"]
script = ExtResource("1_itoj1")
enemy_waves = Array[ExtResource("2_yl0mw")]([SubResource("Resource_sfi7m"), SubResource("Resource_o1kou"), SubResource("Resource_sr6kx")])

[node name="GameTime" type="Node" parent="."]
script = ExtResource("1_ow3qn")

[node name="WaveTimer" type="Timer" parent="GameTime"]
unique_name_in_owner = true
autostart = true

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = SubResource("AudioStreamWAV_gsk60")

[node name="Visible" type="Node2D" parent="."]

[node name="BeatWaves" type="Node2D" parent="Visible"]
script = ExtResource("2_2pvco")

[node name="Enemies" type="Node2D" parent="Visible"]
unique_name_in_owner = true

[connection signal="beat" from="GameTime" to="Visible/BeatWaves" method="_on_beat"]
[connection signal="timeout" from="GameTime/WaveTimer" to="." method="_on_wave_timer_timeout"]
